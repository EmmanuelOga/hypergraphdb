#summary Explains how the query sub-system can be customized

= Introduction =

This is experimental code so subject to frequent changes.

= Recognizing a custom indexer =

When you implement a HGIndexer, you are presumably doing it to speed up some query processing. However, the query compiler doesn't know about your indexer or how it works. One way is to directly use the index in a query expression:

{{{
HGQuery<HGHandle> q = HGQuery
  .make(HGHandle.class, graph).
  .compile(hg.and(hg.type(someType), new IndexCondition(yourindex, lookupKey)));
for (HGHandle h : q.findAll())
{
  // etc...
} 
}}}

And this is a perfectly valid way to make use of the index. But clearly an index is not the right abstraction to use within a query expression. The `IndexCondition` is kind of a backdoor telling the query system "I want you to use that index right here". It would be more appropriate to use a condition on the form of the data and make use of an index if available.